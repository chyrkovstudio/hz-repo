= Persist Data on Disk
:description: This tutorial guides you on enabling persistence in your cluster.

{description} Data in Hazelcast is usually stored in-memory (RAM) which
makes it volatile; means that data is lost when too many members or the
cluster is shut down. To recover data when the cluster is restarted, you
can use Hazelcast's Persistence feature to persist data on disk.

In this tutorial, you will:

. Start a Hazelcast Enterprise cluster with three members
. Create a map with data in it
. Shut down the cluster
. Restart the cluster and see the Persistence feature in action

== Before You Begin

To complete this tutorial, you need the following:

[cols="1a,1a"]
|===
|Prerequisites|Useful resources

|Docker
|
link:https://docs.docker.com/docker-for-mac/install/[Install Docker for Mac]

link:https://docs.docker.com/engine/install/[Install Docker for Linux]

link:https://docs.docker.com/docker-for-windows/install/[Install Docker for Windows]

|Docker image for the full Hazelcast distribution
|xref:get-started-enterprise.adoc[Install Hazelcast Enterprise]

|Docker network with the name `hazelcast-network`
|Use the `docker network create hazelcast-network` command 

|===

== Step 1. Start a Member with Persistence Enabled

Run the following Docker command:

[source,shell]
----
docker run \
    --name first-member --network hazelcast-network \
    -e HZ_CLUSTERNAME=hello-world \
    -e HZ_LICENSEKEY=<your license key> \
    -e HZ_PERSISTENCE_ENABLED=true \ <1>
    -e HZ_MAP_MYDISTRIBUTEDMAP_DATAPERSISTENCE_ENABLED=true \ <2>
    -v ~/persist:/opt/hazelcast/persistence \ <3>
    -p 5701:5701 hazelcast/hazelcast-enterprise:5.0
----

<1> The environment variable to enable the persistence feature for the member
<2> The environment variable to enable the persistence feature for the map
<3> By default, the Persistence feature creates the `/opt/hazelcast/persistence` directory to store persisted data.
However, using a Docker image, you cannot create any files inside the container. This line of the command mounts a directory
On your local to the container. This way, the container will use that local folder to save the persisted data.

You can see from the terminal logs that persistence is enabled:

image:persistence-enabled.png[Console displays that the persistence is enabled for this member]

== Step 2. Start More Members

???

== Step 3. Create a Map

???

== Step 3. Shut Down the Cluster

??? Show what happens when the whole cluster goes down ???

NOTE: See xref:storage:persistence.adoc[Persisting Data on a Cluster] if you're
interested in learning more about the topics introduced in this tutorial.

